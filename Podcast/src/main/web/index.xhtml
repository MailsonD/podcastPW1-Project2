<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:jsf="http://xmlns.jcp.org/jsf">

<h:head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <title>Loja PWEB - Login</title>




    <link rel="stylesheet" type="text/css" href="assets/css/style.css"/>
    <h:outputStylesheet name="css/materialize.css"></h:outputStylesheet>
    <h:outputStylesheet name="css/materialize.min.css"></h:outputStylesheet>



</h:head>

<h:body >
    <f:view>
        <nav class="light-blue lighten-1" role="navigation">
            <div class="nav-wrapper container"><a id="logo-container" href="#" class="brand-logo">IFCast</a>
                <!--<ul class="right hide-on-med-and-down">-->
                    <!--<li><a href="#">Navbar Link</a></li>-->
                <!--</ul>-->

                <!--<ul id="nav-mobile" class="sidenav">-->
                    <!--<li><a href="#">Navbar Link</a></li>-->
                <!--</ul>-->
                <a href="#" data-targ="6" et="nav-mobile" class="sidenav-trigger"><i class="material-icons">menu</i></a>
            </div>
        </nav>
        <!--<audio controls="x">-->
            <!--<source src="/audio/2019-04-04 14:58:25.767115-logar.mp3" type="audio/mp3" />-->
        <!--</audio>-->
        <div class="section no-pad-bot" id="index-banner">
            <div class="container center-align">
                <br/><br/>
                <h1 class="header center orange-text">Conecte-se ao IFCast</h1>
                <a class="waves-effect waves-light btn modal-trigger" href="#modal1">Login</a><br/><br/>
                ou<br/><br/>
                <a class="waves-effect waves-light btn modal-trigger" href="#modal2">Cadastre-se</a>


                <br/><br/>

            </div>
        </div>








                <!-- Modal Structure -->
                <div id="modal1" class="modal">
                    <div class="modal-content">
                        <h:form forceId="true" id="formLogin" update = "true" >
                            <p:messages autoUpdate="true" id="erroLogin" />
                            <div class="form-group">
                                <h:outputLabel value="Email"></h:outputLabel>
                                <p:inputText id="login" required="true"  value="#{loginBean.email}"
                                             requiredMessage="Login obrigatório"
                                             styleClass="form-control form-control-user">
                                </p:inputText>
                                <p:message autoUpdate="true" for="login" />
                            </div>
                            <div class="form-group">
                                <h:outputLabel value="Senha"></h:outputLabel>
                                <p:password id="senha" required="true" value="#{loginBean.senha}"
                                            requiredMessage="Senha obrigatória"
                                            styleClass="form-control form-control-user" />
                                <p:message autoUpdate="true" for="senha" />
                            </div>
                            <p:commandButton styleClass="btn" update="formLogin"
                                             actionListener="#{loginBean.efetuarLogin}" value="Entrar" ajax = "true">
                                <f:attribute name="tipoForm" value="login">Logar</f:attribute>
                            </p:commandButton>

                        </h:form>
                    </div>

                </div>
                <!-- Modal Structure -->
                <div id="modal2" class="modal">
                    <div class="modal-content">
                        <h:form id="formCadastro">
                            <div class="form-group">
                                <h:outputLabel value="E-mail:"></h:outputLabel>
                                <p:inputText id="email" required="true"  value="#{usuarioBean.usuario.email}"
                                             requiredMessage="Email obrigatório"
                                             styleClass="form-control form-control-user">
                                </p:inputText>
                                <p:message for="email" />
                            </div>
                            <div class="form-group">
                                <h:outputLabel value="Nome:"></h:outputLabel>
                                <p:inputText id="nome" required="true" value="#{usuarioBean.usuario.nome}"
                                             requiredMessage="Nome obrigatória"
                                             styleClass="form-control form-control-user" />
                                <p:message for="nome" />
                            </div>
                            <div class="form-group">
                                <h:outputLabel value="Senha:"></h:outputLabel>
                                <p:password id="senhaC" required="true" value="#{usuarioBean.usuario.senha}"
                                            requiredMessage="Senha obrigatória"
                                            styleClass="form-control form-control-user" />
                                <p:message for="senhaC" />
                            </div>
                            <div class="form-group">
                                <h:outputLabel value="Data de nascimento (dd/mm/aaaa)"></h:outputLabel>
                                <p:inputMask converter="dataConverter" id="nascimento" value="#{usuarioBean.usuario.nascimento}" validatorMessage="data inválida" mask="99/99/9999" required="true" requiredMessage="Data de nascimento obrigatória">
                                </p:inputMask>
                                <p:message for="nascimento" />
                            </div>
                            <div class="form-group">
                                <h:outputLabel value="Telefone:"></h:outputLabel>
                                <p:inputText id="telefone" required="true" value="#{usuarioBean.usuario.telefone}"
                                             styleClass="form-control form-control-user" />
                            </div>
                            <div class="form-group">
                                <h:outputLabel value="Sexo:"></h:outputLabel>
                                <p:selectOneRadio converter="sexoConverter" converterMessage="Erro ao converter" id="sexo" value="#{usuarioBean.usuario.sexo}" required="true" requiredMessage="Campo obrigatório">
                                    <f:selectItems value="#{enums.generos}" />
                                </p:selectOneRadio>
                                <p:message for="sexo" />
                            </div>
                            <div class="form-group">
                                <h:outputLabel value="Tipo:"></h:outputLabel>
                                <p:selectOneRadio converter="tipoConverter" converterMessage="Erro ao converter" id="tipo" value="#{usuarioBean.usuario.tipo}" required="true"  requiredMessage="Campo obrigatório">
                                    <f:selectItems value="#{enums.tipos}" />
                                </p:selectOneRadio>
                                <p:message for="tipo" />
                            </div>
                            <p:commandButton styleClass="btn" update="formCadastro"
                                             action="#{usuarioBean.cadastrar}" value="Cadastrar">
                                <f:attribute name="tipoForm" value="cadastro">Cadastrar</f:attribute>
                            </p:commandButton>

                        </h:form>
                    </div>

                </div>


        <footer class="page-footer">
            <div class="container">
                <div class="row">
                    <div class="col l6 s12">
                        <h5 class="white-text">IFCast</h5>
                        <p class="grey-text text-lighten-4">Projeto da disciplina de Programação Web 1 do professor Diego - IFPB</p>
                    </div>
                    <div class="col l4 offset-l2 s12">
                        <h5 class="white-text">GitHub</h5>
                        <ul>
                            <li><a class="grey-text text-lighten-3" href="https://www.github.com/antonioads2017">Antônio Filho</a></li>
                            <li><a class="grey-text text-lighten-3" href="https://www.github.com/camilacarwalho">Camila Carvalho</a></li>
                            <li><a class="grey-text text-lighten-3" href="https://www.github.com/eduulucas">Eduardo Lucas</a></li>
                            <li><a class="grey-text text-lighten-3" href="https://www.github.com/mailsond">Mailson Dennis</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-copyright">
                <div class="container">
                    © 2019 Copyright IFCast
                </div>
            </div>
        </footer>



    </f:view>
    <h:outputScript name="js/materialize.js"></h:outputScript>
    <h:outputScript name="js/materialize.min.js"></h:outputScript>

    <script type="text/javascript">  $(document).ready(function(){
        $('.modal').modal();
    });
    </script>
</h:body>
</html>

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <title>Loja PWEB - Login</title>



    <link rel="stylesheet" type="text/css" href="assets/css/style.css"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"/>
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"/>

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js" type="text/javascript"></script>



</h:head>

<h:body >
    <f:view>
        <div class="row" style="height: 10%"></div>
        <div class="row" style="height: 80%">
            <div class="col s4">

            </div>
            <div class="col s4 center-align"><h4>Conecte-se ao IFCast</h4><br/>
                <!-- Modal Trigger -->
                <a class="waves-effect waves-light btn modal-trigger" href="#modal1">Login</a><br/>
                ou<br/>
                <a class="waves-effect waves-light btn modal-trigger" href="#modal2">Cadastre-se</a>

                <!-- Modal Structure -->
                <div id="modal1" class="modal">
                    <div class="modal-content">


                        <h:form id="formLogin" >
                            <div class="form-group">
                                <h:outputLabel value="Email"></h:outputLabel>
                                <p:inputText id="login" required="true"  value="#{loginBean.email}"
                                             requiredMessage="Login obrigatório"
                                             styleClass="form-control form-control-user">
                                </p:inputText>
                                <p:message for="login" />
                            </div>
                            <div class="form-group">
                                <h:outputLabel value="Senha"></h:outputLabel>
                                <p:password id="senha" required="true" value="#{loginBean.senha}"
                                            requiredMessage="Senha obrigatória"
                                            styleClass="form-control form-control-user" />
                                <p:message for="senha" />
                            </div>
                            <p:commandButton styleClass="btn" update="formLogin"
                                             action="#{loginBean.efetuarLogin}" value="Entrar">
                                <f:attribute name="tipoForm" value="login">Logar</f:attribute>
                            </p:commandButton>

                        </h:form>
                    </div>

                </div>
                <!-- Modal Structure -->
                <div id="modal2" class="modal">
                    <div class="modal-content">
                        <h:form id="formCadastro">
                            <div class="form-group">
                                <h:outputLabel value="E-mail:"></h:outputLabel>
                                <p:inputText id="email" required="true"  value="#{usuarioBean.usuario.email}"
                                             requiredMessage="Email obrigatório"
                                             styleClass="form-control form-control-user">
                                </p:inputText>
                                <p:message for="email" />
                            </div>
                            <div class="form-group">
                                <h:outputLabel value="Nome:"></h:outputLabel>
                                <p:inputText id="nome" required="true" value="#{usuarioBean.usuario.nome}"
                                             requiredMessage="Nome obrigatória"
                                             styleClass="form-control form-control-user" />
                                <p:message for="senha" />
                            </div>
                            <div class="form-group">
                                <h:outputLabel value="Senha:"></h:outputLabel>
                                <p:password id="senha" required="true" value="#{usuarioBean.usuario.senha}"
                                            requiredMessage="Senha obrigatória"
                                            styleClass="form-control form-control-user" />
                                <p:message for="senha" />
                            </div>
                            <div class="form-group">
                                <h:outputLabel value="Telefone:"></h:outputLabel>
                                <p:inputText id="telefone" required="true" value="#{usuarioBean.usuario.telefone}"
                                             styleClass="form-control form-control-user" />
                            </div>
                            <div class="form-group">
                                <h:outputLabel value="Sexo:"></h:outputLabel>
                                <p:selectOneRadio value="#{usuarioBean.sexo}">
                                    <f:selectItem itemValue="M" itemLabel="Masculino"></f:selectItem>
                                    <f:selectItem itemValue="F" itemLabel="Feminino"></f:selectItem>
                                </p:selectOneRadio>
                            </div>
                            <div class="form-group">
                                <h:outputLabel value="Tipo:"></h:outputLabel>
                                <p:selectOneRadio styleClass="ui-radiobutton-box" value="#{usuarioBean.tipo}">
                                    <f:selectItem itemValue="A" itemLabel="Aluno"></f:selectItem>
                                    <f:selectItem itemValue="P" itemLabel="Professor"></f:selectItem>
                                </p:selectOneRadio>
                            </div>
                            <div class="form-group">
                                <h:outputLabel value="Data de nascimento"></h:outputLabel>
                                <p:calendar styleClass="ui-calendar" required="true" pattern="dd/MM/yyyy" mask="true" showOn="button"
                                            requiredMessage="Data de nascimento obrigatória"
                                            value="#{usuarioBean.usuario.nascimento}">
                                    <f:converter converterId="dataConverter" />
                                </p:calendar>
                            </div>
                            <p:commandButton styleClass="btn" update="formCadastro"

                                             action="#{usuarioBean.cadastrar}" value="Cadastrar">
                            </p:commandButton>

                        </h:form>



                    </div>

                </div>
            </div>
            <div class="col s4"></div>
        </div>
        <div class="row" style="height: 10%"></div>
    </f:view>
    <script type="text/javascript">  $(document).ready(function(){
        $('.modal').modal();
    });</script>
</h:body>
</html>
